<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<!-- æ ¹èŠ‚ç‚¹æ”¹ä¸º SplitPaneï¼Œå¼•ç”¨å¤–éƒ¨ CSS -->
<SplitPane dividerPositions="0.22"
           styleClass="main-split-pane"
           stylesheets="@./css/terminal-tab.css"
           xmlns="http://javafx.com/javafx/17.0.12"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="com.open.terminal.openterminal.TerminalController">

    <!-- ================= å·¦ä¾§ï¼šè¿žæŽ¥ä¿¡æ¯ä¸Žç³»ç»Ÿç›‘æŽ§ ================= -->
    <VBox spacing="20" styleClass="sidebar-container">
        <padding>
            <Insets bottom="20" left="15" right="15" top="20" />
        </padding>

        <!-- 1. è¿žæŽ¥è¯¦æƒ…å¡ç‰‡ -->
        <VBox spacing="10" styleClass="info-card">
            <Label text="è¿žæŽ¥è¯¦æƒ…" styleClass="section-title"/>

            <GridPane vgap="5" hgap="10">
                <columnConstraints>
                    <ColumnConstraints minWidth="60"/>
                    <ColumnConstraints hgrow="ALWAYS"/>
                </columnConstraints>

                <Label text="Host:" styleClass="info-label-key" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <Label fx:id="hostLabel" text="-" styleClass="info-label-value" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                <Label text="Port:" styleClass="info-label-key" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                <Label fx:id="portLabel" text="-" styleClass="info-label-value" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                <Label text="User:" styleClass="info-label-key" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                <Label fx:id="userLabel" text="-" styleClass="info-label-value" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                <Label text="Status:" styleClass="info-label-key" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                <Label fx:id="statusLabel" text="æœªè¿žæŽ¥" styleClass="status-label-off" GridPane.rowIndex="3" GridPane.columnIndex="1"/>
            </GridPane>
        </VBox>

        <!-- 2. ç³»ç»Ÿç›‘æŽ§å¡ç‰‡ -->
        <VBox spacing="15" styleClass="info-card" VBox.vgrow="ALWAYS">
            <Label text="ç³»ç»Ÿç›‘æŽ§" styleClass="section-title"/>

            <!-- CPU -->
            <VBox spacing="5">
                <HBox>
                    <Label text="CPU" styleClass="info-label-key" />
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label fx:id="cpuLabel" text="0%" styleClass="monitor-value" />
                </HBox>
                <ProgressBar fx:id="cpuProgress" progress="0.0" styleClass="monitor-bar-cpu" prefWidth="200" />
            </VBox>

            <!-- å†…å­˜ -->
            <VBox spacing="5">
                <HBox>
                    <Label text="å†…å­˜ (RAM)" styleClass="info-label-key" />
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label fx:id="ramLabel" text="0/0 GB" styleClass="monitor-value" />
                </HBox>
                <ProgressBar fx:id="ramProgress" progress="0.0" styleClass="monitor-bar-ram" prefWidth="200" />
            </VBox>

            <!-- ç£ç›˜ -->
            <VBox spacing="5">
                <HBox>
                    <Label text="ç£ç›˜ (Disk /)" styleClass="info-label-key" />
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label fx:id="diskLabel" text="0%" styleClass="monitor-value" />
                </HBox>
                <ProgressBar fx:id="diskProgress" progress="0.0" styleClass="monitor-bar-disk" prefWidth="200" />
            </VBox>

            <!-- ç½‘ç»œç›‘æŽ§å— -->
            <VBox spacing="8" styleClass="network-box">
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="â¬‡" styleClass="net-icon-down"/>
                    <Label fx:id="netDownLabel" text="0 KB/s" styleClass="net-value"/>
                </HBox>
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="â¬†" styleClass="net-icon-up"/>
                    <Label fx:id="netUpLabel" text="0 KB/s" styleClass="net-value"/>
                </HBox>
            </VBox>
        </VBox>

    </VBox>

    <!-- ================= å³ä¾§åŒºåŸŸï¼šåŒ…å«ç»ˆç«¯å’Œæ–‡ä»¶ç®¡ç† ================= -->
    <SplitPane dividerPositions="0.65" orientation="VERTICAL" styleClass="right-split-pane">

        <!-- === 1. ä¸ŠåŠéƒ¨åˆ†ï¼šç»ˆç«¯äº¤äº’åŒº  === -->
        <BorderPane styleClass="terminal-pane-wrapper">
            <top>
                <HBox spacing="10" alignment="CENTER_LEFT" styleClass="terminal-toolbar">
                    <Button text="ðŸ•’ åŽ†å²å‘½ä»¤" onAction="#handleShowHistory" styleClass="toolbar-button"/>
                    <Region HBox.hgrow="ALWAYS"/>
                </HBox>
            </top>
            <center>
                <StackPane fx:id="terminalContainer" style="-fx-background-color: white;"/>
            </center>
        </BorderPane>

        <!-- === 2. ä¸‹åŠéƒ¨åˆ†ï¼šæ–‡ä»¶ç›®å½• === -->
        <TitledPane fx:id="filePanel" text="æ–‡ä»¶ç³»ç»Ÿ (File System)" styleClass="warm-titled-pane" animated="true">
            <content>
                <BorderPane styleClass="file-browser-pane">
                    <!-- æ–‡ä»¶å·¥å…·æ  -->
                    <top>
                        <HBox alignment="CENTER_LEFT" spacing="15" styleClass="file-toolbar">
                            <Label text="å½“å‰è·¯å¾„:" styleClass="path-label-key" />
                            <Label fx:id="currentPathLabel" text="/home/" styleClass="path-label-value" HBox.hgrow="ALWAYS"/>

                            <Region HBox.hgrow="ALWAYS" />

                            <Button text="ðŸ“‚ æ–‡ä»¶åˆ—è¡¨" onAction="#handleFileList" styleClass="secondary-button"/>

                            <Button text="âŸ³ åˆ·æ–°" onAction="#handleRefreshFiles" styleClass="secondary-button"/>
                            <Button text="â¬† ä¸Šä¼ æ–‡ä»¶" onAction="#handleUploadFile" styleClass="primary-button-small"/>
                        </HBox>
                    </top>

                    <!-- æ–‡ä»¶åˆ—è¡¨ -->
                    <center>
                        <TableView fx:id="fileTableView" styleClass="modern-table">
                            <placeholder>
                                <Label text="æ­£åœ¨åŠ è½½ç›®å½•..." styleClass="placeholder-label" />
                            </placeholder>
                            <columns>
                                <TableColumn text="åç§°" prefWidth="200" />
                                <TableColumn text="å¤§å°" prefWidth="80" style="-fx-alignment: CENTER-RIGHT;" />
                                <TableColumn text="æƒé™" prefWidth="100" style="-fx-alignment: CENTER;" />
                                <TableColumn text="ä¿®æ”¹æ—¶é—´" prefWidth="150" style="-fx-alignment: CENTER;" />
                            </columns>
                            <columnResizePolicy>
                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                            </columnResizePolicy>
                        </TableView>
                    </center>
                </BorderPane>
            </content>
        </TitledPane>

    </SplitPane>

</SplitPane>