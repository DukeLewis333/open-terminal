<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<!-- æ ¹èŠ‚ç‚¹æ”¹ä¸º SplitPaneï¼Œç”¨äºŽå·¦å³åˆ†å‰² (å·¦ä¾§ä¿¡æ¯æ  | å³ä¾§ç»ˆç«¯ä¸Žæ–‡ä»¶) -->

<SplitPane dividerPositions="0.2" style="-fx-background-color: #1e1e1e; -fx-padding: 0;" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.open.terminal.openterminal.TerminalController">

    <!-- ================= å·¦ä¾§ï¼šè¿žæŽ¥ä¿¡æ¯ä¸Žç³»ç»Ÿç›‘æŽ§ ================= -->
    <VBox spacing="15" style="-fx-background-color: #252526;">
        <padding>
            <Insets bottom="10" left="10" right="10" top="15" />
        </padding>

        <!-- 1. è¿žæŽ¥è¯¦æƒ… -->
        <VBox spacing="8">
            <Label text="è¿žæŽ¥è¯¦æƒ…" textFill="#a9b7c6">
                <font>
                    <Font name="System Bold" size="14" />
                </font>
            </Label>
            <VBox spacing="2">
                <Label style="-fx-font-size: 10px;" text="ä¸»æœº Host:" textFill="gray" />
                <Label fx:id="hostLabel" text="-" textFill="#e8e8e8" />
            </VBox>
            <VBox spacing="2">
                <Label style="-fx-font-size: 10px;" text="ä¸»æœº Port:" textFill="gray" />
                <Label fx:id="portLabel" text="-" textFill="#e8e8e8" />
            </VBox>
            <VBox spacing="2">
                <Label style="-fx-font-size: 10px;" text="ç”¨æˆ· User:" textFill="gray" />
                <Label fx:id="userLabel" text="-" textFill="#e8e8e8" />
            </VBox>
            <VBox spacing="2">
                <Label style="-fx-font-size: 10px;" text="çŠ¶æ€ Status:" textFill="gray" />
                <Label fx:id="statusLabel" style="-fx-font-weight: bold;" text="æœªè¿žæŽ¥" textFill="#4caf50" />
            </VBox>
        </VBox>

        <!-- åˆ†å‰²çº¿ -->
        <Region style="-fx-background-color: #3e3e42; -fx-min-height: 1px; -fx-max-height: 1px;" />

        <!-- 2. ç³»ç»Ÿç›‘æŽ§ -->
        <VBox spacing="10">
            <Label text="ç³»ç»Ÿç›‘æŽ§" textFill="#a9b7c6">
                <font>
                    <Font name="System Bold" size="14" />
                </font>
            </Label>

            <!-- CPU -->
            <VBox spacing="3">
                <HBox>
                    <Label style="-fx-font-size: 11px;" text="CPU ä½¿ç”¨çŽ‡" textFill="gray" />
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label fx:id="cpuLabel" style="-fx-font-size: 11px;" text="0%" textFill="#e8e8e8" />
                </HBox>
                <ProgressBar fx:id="cpuProgress" prefHeight="8" prefWidth="200" progress="0.0" style="-fx-accent: #4a90e2;" />
            </VBox>

            <!-- å†…å­˜ -->
            <VBox spacing="3">
                <HBox>
                    <Label style="-fx-font-size: 11px;" text="å†…å­˜ (RAM)" textFill="gray" />
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label fx:id="ramLabel" style="-fx-font-size: 11px;" text="0/0 GB" textFill="#e8e8e8" />
                </HBox>
                <ProgressBar fx:id="ramProgress" prefHeight="8" prefWidth="200" progress="0.0" style="-fx-accent: #9b59b6;" />
            </VBox>

            <!-- ç£ç›˜ -->
            <VBox spacing="3">
                <HBox>
                    <Label style="-fx-font-size: 11px;" text="ç£ç›˜ (Disk /)" textFill="gray" />
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label fx:id="diskLabel" style="-fx-font-size: 11px;" text="0%" textFill="#e8e8e8" />
                </HBox>
                <ProgressBar fx:id="diskProgress" prefHeight="8" prefWidth="200" progress="0.0" style="-fx-accent: #2ecc71;" />
            </VBox>

            <!-- ç½‘ç»œ -->
            <VBox spacing="5" style="-fx-background-color: #2b2b2b; -fx-padding: 5; -fx-background-radius: 3;">
                <HBox spacing="5" alignment="CENTER_LEFT">
                    <Label text="â¬‡" textFill="#2ecc71" style="-fx-font-size: 10px;"/>
                    <Label fx:id="netDownLabel" text="0 KB/s" textFill="#e8e8e8" style="-fx-font-size: 11px;"/>
                </HBox>
                <HBox spacing="5" alignment="CENTER_LEFT">
                    <Label text="â¬†" textFill="#e67e22" style="-fx-font-size: 10px;"/>
                    <Label fx:id="netUpLabel" text="0 KB/s" textFill="#e8e8e8" style="-fx-font-size: 11px;"/>
                </HBox>
            </VBox>
        </VBox>

    </VBox>

    <!-- ================= å³ä¾§åŒºåŸŸï¼šåŒ…å«ç»ˆç«¯å’Œæ–‡ä»¶ç®¡ç† ================= -->
    <!-- åž‚ç›´ SplitPaneï¼šä¸Šæ–¹ç»ˆç«¯ï¼Œä¸‹æ–¹æ–‡ä»¶ -->
    <SplitPane dividerPositions="0.65" orientation="VERTICAL" style="-fx-background-color: #1e1e1e; -fx-padding: 0;">

        <!-- === 1. ä¸ŠåŠéƒ¨åˆ†ï¼šç»ˆç«¯äº¤äº’åŒº  === -->
        <BorderPane style="-fx-background-color: #1e1e1e;">
            <top>
                <HBox spacing="10"
                      alignment="CENTER_LEFT"
                      style="-fx-padding: 8 12; -fx-background-color: #2b2b2b; -fx-border-color: #3c3f41; -fx-border-width: 0 0 1 0;">

                    <Button text="ðŸ•’ åŽ†å²å‘½ä»¤"
                            onAction="#handleShowHistory"
                            style="-fx-background-color: #3c3f41; -fx-text-fill: white; -fx-cursor: hand;"
                    />

                </HBox>
            </top>
            <center>
                <StackPane fx:id="terminalContainer" style="-fx-background-color: #000000;"/>
            </center>
        </BorderPane>

        <!-- === 2. ä¸‹åŠéƒ¨åˆ†ï¼šæ–‡ä»¶ç›®å½• (TitledPane å®žçŽ°å¯æ”¶èµ·) === -->
        <TitledPane fx:id="filePanel" style="-fx-text-fill: #a9b7c6;" text="æ–‡ä»¶ç³»ç»Ÿ (File System)">

            <content>
                <BorderPane style="-fx-background-color: #2b2b2b;">
                    <!-- æ–‡ä»¶å·¥å…·æ  -->
                    <top>
                        <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-background-color: #323232; -fx-padding: 5;">
                            <Label text="è·¯å¾„:" textFill="gray" />
                            <Label fx:id="currentPathLabel" style="-fx-font-weight: bold;" text="/home/" textFill="#e8e8e8" />

                            <Region HBox.hgrow="ALWAYS" />

                            <Button onAction="#handleFileList" text="æ–‡ä»¶åˆ—è¡¨" style="fx-text-fill: white; -fx-font-size: 11px; -fx-cursor: hand;"/>
                            <Button onAction="#handleUploadFile" style="-fx-background-color: #4a90e2; -fx-text-fill: white; -fx-font-size: 11px; -fx-cursor: hand;" text="â¬† ä¸Šä¼ æ–‡ä»¶" />
                            <Button onAction="#handleRefreshFiles" style="-fx-background-color: #444; -fx-text-fill: white; -fx-font-size: 11px; -fx-cursor: hand;" text="âŸ³ åˆ·æ–°" />
                        </HBox>
                    </top>

                    <!-- æ–‡ä»¶åˆ—è¡¨ -->
                    <center>
                        <TableView fx:id="fileTableView" style="-fx-background-color: #2b2b2b; -fx-control-inner-background: #2b2b2b;">
                            <placeholder>
                                <Label text="æ­£åœ¨åŠ è½½ç›®å½•..." textFill="gray" />
                            </placeholder>
                            <columns>
                                <TableColumn prefWidth="200" style="-fx-alignment: CENTER-LEFT;" text="åç§°" />
                                <TableColumn prefWidth="80" style="-fx-alignment: CENTER-RIGHT;" text="å¤§å°" />
                                <TableColumn prefWidth="100" style="-fx-alignment: CENTER;" text="æƒé™" />
                                <TableColumn prefWidth="150" style="-fx-alignment: CENTER;" text="ä¿®æ”¹æ—¶é—´" />
                            </columns>
                            <columnResizePolicy>
                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                            </columnResizePolicy>
                        </TableView>
                    </center>
                </BorderPane>
            </content>
        </TitledPane>

    </SplitPane>

</SplitPane>
