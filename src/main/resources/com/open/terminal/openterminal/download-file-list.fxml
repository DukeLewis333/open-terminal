<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ProgressIndicator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.open.terminal.openterminal.DownloadFileListController"
            styleClass="main-root"
            stylesheets="@./css/download-file-list.css">
    <!-- styleClass="main-root" ç¡®ä¿èƒŒæ™¯æ˜¯æš–ç±³è‰² #FFF8E1 -->

    <!-- é¡¶éƒ¨æ ‡é¢˜æ  (ä»¿ç…§æ–‡ä»¶æµè§ˆå™¨çš„ Header) -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="10" styleClass="download-header">
            <Label text="å½“å‰ä¸‹è½½ä»»åŠ¡" styleClass="section-title"/>
            <Region HBox.hgrow="ALWAYS"/>

            <!-- ä¿®æ”¹æ­¤å¤„ï¼šåº”ç”¨ä¸“é—¨çš„ clear-button æ ·å¼ -->
            <Button text="ðŸ—‘ æ¸…ç©ºå·²å®Œæˆ"
                    onAction="#handleClearCompleted"
                    styleClass="clear-button"/>
        </HBox>
    </top>

    <!-- ä¸­é—´è¡¨æ ¼ -->
    <center>
        <!-- è¿™é‡Œçš„ styleClass="modern-table" å°†åœ¨ CSS ä¸­è¢«å¼ºåŒ–ï¼Œä»¥åŒ¹é…æ–‡ä»¶åˆ—è¡¨ -->
        <TableView fx:id="downloadTable" styleClass="modern-table">
            <placeholder>
                <Label text="âœ¨ æš‚æ— ä¸‹è½½ä»»åŠ¡" styleClass="placeholder-label"/>
            </placeholder>

            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
            </columnResizePolicy>

            <columns>
                <!-- 1. æ–‡ä»¶å -->
                <TableColumn fx:id="fileNameCol" text="æ–‡ä»¶å" prefWidth="200" style="-fx-alignment: CENTER-LEFT;">
                    <cellValueFactory>
                        <PropertyValueFactory property="fileName"/>
                    </cellValueFactory>
                </TableColumn>

                <!-- 2. å¤§å° -->
                <TableColumn fx:id="sizeCol" text="å¤§å°" prefWidth="80" style="-fx-alignment: CENTER-RIGHT;">
                    <cellValueFactory>
                        <PropertyValueFactory property="sizeStr"/>
                    </cellValueFactory>
                </TableColumn>

                <!-- 3. è¿›åº¦ -->
                <TableColumn fx:id="progressCol" text="è¿›åº¦" prefWidth="150" style="-fx-alignment: CENTER;">
                    <cellValueFactory>
                        <PropertyValueFactory property="progress"/>
                    </cellValueFactory>
                </TableColumn>

                <!-- 4. çŠ¶æ€ -->
                <TableColumn fx:id="statusCol" text="çŠ¶æ€" prefWidth="80" style="-fx-alignment: CENTER;">
                    <cellValueFactory>
                        <PropertyValueFactory property="status"/>
                    </cellValueFactory>
                </TableColumn>

                <!-- 5. æ“ä½œ -->
                <TableColumn fx:id="actionCol" text="æ“ä½œ" prefWidth="100" style="-fx-alignment: CENTER;">
                    <cellValueFactory>
                        <PropertyValueFactory property="fileName"/>
                    </cellValueFactory>
                </TableColumn>
            </columns>
        </TableView>
    </center>

    <!-- åº•éƒ¨çŠ¶æ€æ  -->
    <bottom>
        <HBox spacing="10" alignment="CENTER_LEFT" styleClass="download-footer">
            <Label fx:id="statusLabel" text="å°±ç»ª" styleClass="info-label-key"/>
            <Region HBox.hgrow="ALWAYS"/>
            <ProgressIndicator fx:id="globalProgress"
                               prefWidth="16"
                               prefHeight="16"
                               visible="false"
                               styleClass="warm-spinner"/>
        </HBox>
    </bottom>

</BorderPane>